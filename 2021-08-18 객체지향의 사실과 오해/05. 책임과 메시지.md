# 05. 책임과 메시지

> *의도는 "메시징"이다. <br> 훌륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는 <br>
> 모듈이 어떻게 커뮤니케이션하는가에 달려 있다. - 앨런 케이*


## 달리와 밥 라타네의 실험
- 실험 결과로 다음과 같은 현상 정립 : 책임감 분산(diffusion of responsibility)

- 사건에 대한 목격자가 많으면 많을수록 개인이 느끼는 책임감이 적어짐
- 자신에게 명확한 책임이 없는 경우에는 발작을 일으킨 환자를 도와주는 일을 타인의 책임으로 간주함
- 반면에 책임이 명확하게 주어진 경우에는 신속하게 위기 상황을 해결하려고 노력함
- 명확한 책임과 역할을 지닌 참가자들이 협력에 참여해야 한다는 것   

<br>

## 자율적인 책임
- 객체지향 공동체를 구성하는 기본 단위는 **'자율적'인 객체**임

   - 자율적인 객체란, 스스로 정한 원칙에 따라 판단하고 스스로의 의지를 기반으로 행동하는 객체


- 적절한 책임이 자율적인 객체를 낳고, 자율적인 객체들이 모여 유연하고 단순한 협력을 낳음
   - 책임이라는 말 속에는 어떤 행동을 수행한다는 의미가 내포됨
- 책임은 협력에 참여하는 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야 함
- 자율적인 책임의 특징은 객체가 '어떻게(how)' 해야 하는가가 아니라 **'무엇(what)'을 해야하는가를 설명하는 것**


<br>

## 메시지와 메서드

### 메시지
- 하나의 객체는 메시지를 전송함으로써 다른 객체에 접근함

- *메시지-전송*
   -  객체가 다른 객체에 접근할 수 있는 유일한 방법
   
- 메시지를 전송할 때 추가적인 정보가 필요한 경우 메시지의 인자(argument)를 통해 추가 정보 제공 가능
- 메시지는 메시지 이름(message name)과 인자의 두 부분으로 구성됨
  - ex. 증언하라(어제, 왕국) : 어제, 왕국에서 목격한 것을 증언할 것을 요청하고 싶을 때의 메시지
- 메시지 전송은 수신자와 메시지의 조합이고, 메시지는 메시지 이름과 인자의 조합
- **메시지 전송은 수신자, 메시지 이름, 인자의 조합**
   - ex. 모자장수.증언하라(어제, 왕국) : 모자 장수에게 어제, 왕국에서 목격한 것을 증언할 것을 요청
- 메시지를 수신받은 객체는 우선 자신이 해당 메시지를 처리할 수 있는지 확인
   - 메시지 처리 가능 = 객체가 해당 메시지에 해당하는 행동을 수행해야 할 책임이 있음
- 메시지는 '어떻게' 수행될 것인지는 명시하지 않음
- 오퍼레이션을 통해 '무엇'이 실행되기를 바라는지만 명시
- **객체지향 프로그래밍에서 행동은 수행할 책임을 지닌 객체에게 전송된 메시지에 의해 시작됨**

<br>

### 메서드
- 객체는 메시지를 수신하면 먼저 해당 메시지를 처리할 수 있는지 여부를 확인하고, <br> 처리할 수 있다고 판단되면 메시지를 처리할 방법인 메서드를 선택힘

<br>

### 다형성
- 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해 서로 다르게 반응하는 것을 의미함

- 메시지에는 처리 방법과 관련된 어떤 제약도 없음
   - 동일한 메시지라고 하더라도 서로 다른 방식의 메서드를 이용해 처리 가능
- 다형성은 역할, 책임, 협력과 깊은 관련이 있음
- 메시지 송신자의 관점에서 동일한 역할을 수행하는 다양한 타입의 객체와 협력할 수 있게 함
- 객체들의 대체 가능성을 이용해 설계를 유연하고 재사용 가능하게 만듦
    - 수신자의 종류를 캡슐화함
- 다형성은 송신자와 수신자 간의 객체 타입에 대한 결합도를 메시지에 대한 결합도로 낮춤으로써 달성됨
- 즉, 다형성은 협력을 유연하게 만들 수 있음

<br>

### 유연하고 확장 가능하고 재사용성이 높은 협력의 의미
- 협력이 유연해짐

- 협력이 수행되는 방식을 확장할 수 있음
- 협력이 수행되는 방식을 재사용할 수 있음
- 객체-지향 시스템은 협력하는 객체들의 연결망(web)
- 메시지를 기반으로 한 두 객체 사이의 낮은 결합도는 설계를 유연하고 확장 가능하며 재사용 가능하게 만듦

<hr>

## 메시지를 따라라

### 객체지향의 핵심, 메시지
- 객체들이 서로 협력하기 위해 사용할 수 있는 방법 : 메시지 전송하기

- 훌륭한 객체지향 프로그래밍의 목적=훌륭한 클래스를 창조하는 것
- 하지만 중요한 것은 클래스가 아니라 객체
    - 클래스는 단지 동적인 객체들의 특성과 행위를 정적인 텍스트로 표현하기 위해 사용하는 추상화 도구
    
    - 객체들의 속성과 행위를 식별하는 것이 먼저 
    - 클래스는 객체의 속성과 행위를 담는 틀일 뿐
- 객체지향 설계의 중심에는 메시지가 위치함


### 책임-주도 설계 다시 보기
- 객체지향 설계는 적절한 객체에게 할당하면서 메시지를 기반으로 협력하는 객체들의 관계를 발견하는 과정
- 
